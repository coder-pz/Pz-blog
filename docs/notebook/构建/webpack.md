### æ–‡ç« ç›®å½•

- [Webpackæ˜¯å¹²ä»€ä¹ˆçš„](https://blog.csdn.net/m0_46692959/article/details/106349631#Webpack_1)

- [ä¸€ã€Webpackå®‰è£…](https://blog.csdn.net/m0_46692959/article/details/106349631#Webpack_8)

- - [å®‰è£…è¯­å¥](https://blog.csdn.net/m0_46692959/article/details/106349631#_13)

- [äºŒã€webpackä½¿ç”¨](https://blog.csdn.net/m0_46692959/article/details/106349631#webpack_22)

- - [1.0ã€webpackæ‰“åŒ… js](https://blog.csdn.net/m0_46692959/article/details/106349631#10webpack_js_26)

  - - [è¯­å¥](https://blog.csdn.net/m0_46692959/article/details/106349631#_30)
    - [æ³¨æ„ç‚¹](https://blog.csdn.net/m0_46692959/article/details/106349631#_40)

- [2.0ã€webpackçš„é…ç½®](https://blog.csdn.net/m0_46692959/article/details/106349631#20webpack_47)

- - [2.1ã€webpack.config.jsæ–‡ä»¶é…ç½®](https://blog.csdn.net/m0_46692959/article/details/106349631#21webpackconfigjs_49)

  - - [é…ç½®ç›®çš„](https://blog.csdn.net/m0_46692959/article/details/106349631#_81)

  - [2.2ã€package.jsonæ–‡ä»¶é…ç½®](https://blog.csdn.net/m0_46692959/article/details/106349631#22packagejson_89)

  - - [é…ç½®ç›®çš„](https://blog.csdn.net/m0_46692959/article/details/106349631#_97)
    - [æ³¨æ„ç‚¹](https://blog.csdn.net/m0_46692959/article/details/106349631#_103)

- [ä¸‰ã€webpackçš„loaderæ˜¯å¹²ä»€ä¹ˆçš„](https://blog.csdn.net/m0_46692959/article/details/106349631#webpackloader_110)

- - [1.0ã€webpack æ‰“åŒ… css](https://blog.csdn.net/m0_46692959/article/details/106349631#10webpack__css_122)

  - [2.0ã€webpack æ‰“åŒ… less](https://blog.csdn.net/m0_46692959/article/details/106349631#20webpack__less_177)

  - [3.0ã€webpack æ‰“åŒ… å›¾ç‰‡](https://blog.csdn.net/m0_46692959/article/details/106349631#30webpack___243)

  - - - [base64å­—ç¬¦ä¸²](https://blog.csdn.net/m0_46692959/article/details/106349631#base64_245)
      - [hashå€¼](https://blog.csdn.net/m0_46692959/article/details/106349631#hash_251)

    - [æ³¨æ„ç‚¹ï¼š](https://blog.csdn.net/m0_46692959/article/details/106349631#_341)

  - [4.0ã€ES6è½¬ä¸ºES5](https://blog.csdn.net/m0_46692959/article/details/106349631#40ES6ES5_379)

- [å››ã€webpack é…ç½® ä½¿ç”¨Vue](https://blog.csdn.net/m0_46692959/article/details/106349631#webpack__Vue_422)

- - [1.0ã€vueå¯¹è±¡jsæ–‡ä»¶çš„åº”ç”¨](https://blog.csdn.net/m0_46692959/article/details/106349631#10vuejs_424)
  - [2.0ã€åˆ©ç”¨webpack loader ä½¿ç”¨åç¼€ä¸ºvueçš„æ–‡ä»¶](https://blog.csdn.net/m0_46692959/article/details/106349631#20webpack_loader_vue_496)
  - [2.1ã€vueæ–‡ä»¶ä¸‹å¤šä¸ªç»„ä»¶](https://blog.csdn.net/m0_46692959/article/details/106349631#21vue_592)

- [äº”ã€webpackçš„plugin (æ’ä»¶)](https://blog.csdn.net/m0_46692959/article/details/106349631#webpackplugin__640)

- - [1.0ã€bluginçš„ç‰ˆæƒæ’ä»¶](https://blog.csdn.net/m0_46692959/article/details/106349631#10blugin_648)
  - [2.0ã€æ‰“åŒ…htmlæ–‡ä»¶çš„plugin](https://blog.csdn.net/m0_46692959/article/details/106349631#20htmlplugin_678)
  - [3.0ã€jsä»£ç å‹ç¼©çš„plugin](https://blog.csdn.net/m0_46692959/article/details/106349631#30jsplugin_730)

- [å…­ã€webpackæ­å»ºæœ¬åœ°æœåŠ¡å™¨](https://blog.csdn.net/m0_46692959/article/details/106349631#webpack_777)

- - [1.0ã€webpackæ­å»ºæœ¬åœ°æœåŠ¡å™¨](https://blog.csdn.net/m0_46692959/article/details/106349631#10webpack_779)

  - [2.0ã€webpackçš„é…ç½®åˆ†ç¦»](https://blog.csdn.net/m0_46692959/article/details/106349631#20webpack_829)

  - - [ç›®çš„](https://blog.csdn.net/m0_46692959/article/details/106349631#_831)



# Webpackæ˜¯å¹²ä»€ä¹ˆçš„

- å¯ä»¥æŠŠæµè§ˆå™¨ä¸æ”¯æŒçš„æ¨¡å—åŒ–ï¼Œè½¬æˆæ”¯æŒçš„
- æ–¹ä¾¿ä¸Šä¼ åˆ°æœåŠ¡å™¨

# ä¸€ã€Webpackå®‰è£…

- webpackä¾èµ–äºnodeç¯å¢ƒ
  - éœ€è¦ä½¿ç”¨nodeä¸­çš„npmåŒ…ç®¡ç†å·¥å…·æ¥å®‰è£…

## å®‰è£…è¯­å¥

- npm install webpack@3.6.0 -g
  - å…¨å±€å®‰è£…ï¼Œä¸åŠ ç‰ˆæœ¬å·ä¼šé»˜è®¤å®‰è£…æœ€æ–°ç‰ˆæœ¬
  - è„šæ‰‹æ¶ 2 åŒ¹é… wepack3.6.0 çš„ç‰ˆæœ¬
- 4.0ä»¥åçš„ç‰ˆæœ¬è¿˜éœ€è¦å®‰è£…ä¸€ä¸ªwebpack-cli

# äºŒã€webpackä½¿ç”¨

## 1.0ã€webpackæ‰“åŒ… js

### è¯­å¥

```js
webpack ./src/main.js ./dist/bundle.js
1
```

- ç”¨webpackå·¥å…·æŠŠ./src/main.jsæ‰“åŒ…åˆ°./dist/bundle.js
  - åªæ‰“åŒ…å…¥å£æ–‡ä»¶å°±å¯ä»¥ï¼Œå…¥å£æ–‡ä»¶ä¸­çš„å…¶ä»–æ–‡ä»¶ä¾èµ–ï¼Œwebpackä¼šè‡ªåŠ¨å¤„ç†
  - å¦‚æœ./src/main.jsæ–‡ä»¶ä¸­æœ‰å…¶ä»–ä¾èµ–çš„æ¨¡å—æ–‡ä»¶é‚£ä¹ˆwebpackä¼šè‡ªåŠ¨å¤„ç†

### æ³¨æ„ç‚¹

1. å¦‚æœåœ¨VScodeç»ˆç«¯æ‰“åŒ…ä¸å¥½ä½¿ï¼Œç®¡ç†å‘˜è¿è¡Œvscode ç„¶ååœ¨ç»ˆç«¯è¾“å…¥set-ExecutionPolicy RemoteSigned
2. å»ºè®®åœ¨cmdä¸­è¿è¡Œ

# 2.0ã€webpackçš„é…ç½®

## 2.1ã€webpack.config.jsæ–‡ä»¶é…ç½®

- 1.æ–°å»ºä¸€ä¸ªwebpack.config.js

  2.é…ç½®å…¥å£entryï¼ˆæ‰€éœ€æ‰“åŒ…çš„æ–‡ä»¶è·¯å¾„ï¼‰

  3.é…ç½®å‡ºå£output

  ï¼ˆ1ï¼‰path æŒ‡çš„æ˜¯æ–‡ä»¶æ‰“åŒ…åçš„å­˜æ”¾è·¯å¾„

  ï¼ˆ2ï¼‰path.resolveï¼ˆï¼‰æ–¹æ³•å°†è·¯å¾„æˆ–è€…è·¯å¾„ç‰‡æ®µçš„åºåˆ—å·å¤„ç†æˆç»å¯¹è·¯å¾„

  ï¼ˆ3ï¼‰__dirnameè¡¨ç¤ºå½“å‰æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•çš„ç»å¯¹è·¯å¾„

  ï¼ˆ4ï¼‰filenameæ˜¯æ‰“åŒ…åæ–‡ä»¶çš„åç§°

```js
const path = require('path');

module.exports = {
    //å…¥å£
    entry:'./src/main.js',
    //å‡ºå£
    output:{
        path: path.resolve(__dirname,'dist'),//å‡ºå£çš„ç»å¯¹è·¯å¾„,å­˜å‚¨æ‰“åŒ…æ–‡ä»¶åˆ°è¿™ä¸ªç›®å½•ä¸‹
        filename:'bundle.js'//å‡ºå£çš„æ‰“åŒ…æ–‡ä»¶åå­—
    }
}
1234567891011
```

### é…ç½®ç›®çš„

1. æ‰§è¡Œwebpackè¯­å¥æ—¶,ä¼šå»æ‰¾ä¸€ä¸ªwebpack.config.jsæ–‡ä»¶å»è·å–å‘½ä»¤
2. ç›´æ¥æ‰§è¡Œwebpackå‘½ä»¤å°±å¯ä»¥æ ¹æ®æ–‡ä»¶çš„å†…å®¹æ‰“åŒ…ä»€ä¹ˆæ–‡ä»¶ï¼Œæ‰“åŒ…åˆ°å“ªé‡Œ

## 2.2ã€package.jsonæ–‡ä»¶é…ç½®

- åœ¨scriptsè„šæœ¬ä¸­åŠ å…¥"è„šæœ¬åç§°": â€œè„šæœ¬æ‰§è¡Œå‘½ä»¤â€ï¼Œ
  - â€œbuildâ€: â€œwebpackâ€
  - è¿™æ ·npm run buildå°±ä¼šæ‰§è¡Œwebpackå‘½ä»¤æ¥æ‰“åŒ…

### é…ç½®ç›®çš„

1. å¯ä»¥ç›´æ¥npm run è„šæœ¬åç§° æ‰§è¡Œç›¸åº”å‘½ä»¤

### æ³¨æ„ç‚¹

1. ç»ˆç«¯éƒ½æ˜¯æ‰¾å…¨å±€æ¥æ‰§è¡Œå‘½ä»¤ï¼Œå¦‚æœç”¨æœ¬åœ°åªèƒ½node_modules/.bin/webpackï¼ˆæ‰¾åˆ°å®ƒï¼‰æ¥å®‰è£…æœ¬åœ°webpack,å¦‚æœåœ¨package.jsonä¸­é…ç½®è„šæœ¬å°±ä¸åŒäº†
2. æ‰§è¡Œè„šæœ¬åç§°æ—¶ ä¼šä¼˜å…ˆ å»æ‰¾æœ¬åœ°æ‰¾webpackç›¸åº”çš„å‘½ä»¤

# ä¸‰ã€webpackçš„loaderæ˜¯å¹²ä»€ä¹ˆçš„

- loaderç®€è¦æ¥è¯´å¯ä»¥å«åšè½¬æ¢å™¨
- loaderä½¿ç”¨è¿‡ç¨‹
  - æ­¥éª¤ä¸€ï¼šé€šè¿‡npmå®‰è£…éœ€è¦ä½¿ç”¨çš„loader
  - æ­¥éª¤äºŒï¼šåœ¨webpack.config.jsä¸­çš„moduleså…³é”®å­—ä¸‹è¿›è¡Œé…ç½®

## 1.0ã€webpack æ‰“åŒ… css

- å®˜ç½‘æ–‡æ¡£
  - https://www.webpackjs.com/loaders/#%E6%A0%B7%E5%BC%8F

1. å¦‚æœéœ€è¦ç»™æ ·å¼æ‰“åŒ…ï¼Œé‚£ä¹ˆéœ€è¦è®©å…¥å£æ–‡ä»¶ä¸­ä¾èµ–cssæ ·å¼æ–‡ä»¶

```js
//å¼•å…¥cssä¾èµ–
require('./css/normal.css')
12
```

1. å®‰è£… style-loader ä¸ css-loader

```js
#style-loaderè´Ÿè´£æ ·å¼ç”Ÿæ•ˆ
#åŠ ä¸Š-dev===ï¼ˆå¼€å‘æ—¶ä¾èµ–ï¼‰
npm install style-loader --save-dev
123
#css-loaderåªè´Ÿè´£åŠ è½½
#åŠ ä¸Š--save-dev===ï¼ˆå¼€å‘æ—¶ä¾èµ–ï¼‰
npm install --save-dev css-loader
123
```

1. webpack.config.jsæ–‡ä»¶é…ç½®

```js
#åŠ ä¸Š
module: {
        rules: [
          {
            test: /\.css$/,//åŒ¹é…ä»¥cssç»“å°¾çš„æ–‡ä»¶
            //css-loaderåªè´Ÿè´£åŠ è½½
            //style-loaderè´Ÿè´£æ ·å¼ç”Ÿæ•ˆ
            //ä½¿ç”¨å¤šä¸ªloaderæ˜¯ä»å³è¾¹å‘å·¦è¯»å–
            use: ['style-loader','css-loader' ]
          }
        ]
      }
123456789101112
```

1. é‡æ–°æ‰“åŒ…å°±å¯ä»¥äº†ï¼ˆnpm run è„šæœ¬åç§°ï¼‰

## 2.0ã€webpack æ‰“åŒ… less

- å®˜æ–¹æ–‡æ¡£ï¼š
  - https://www.webpackjs.com/loaders/less-loader/

1. ç¼–å†™å¥½ç›¸åº”çš„lessæ–‡ä»¶

```less
@fontSize: 50px;//å®šä¹‰å˜é‡
@fontColor: orange;

body {
  font-size: @fontSize;//è¿™é‡Œè°ƒç”¨å˜é‡
  color: @fontColor;
}

12345678
```

1. è®©å…¥å£æ–‡ä»¶ä¾èµ–lessæ–‡ä»¶

```js
//å¼•å…¥lessä¾èµ–
require('./css/special.less')
12
```

1. å®‰è£… less-loader ä¸ less

```js
#less-loaderè´Ÿè´£åŠ è½½
#lessè´Ÿè´£è½¬ä¹‰æˆcss
npm install --save-dev less-loader less
#è¿™é‡Œæ³¨æ„å¯èƒ½ä¼šå› ä¸ºless-loader less çš„ç‰ˆæœ¬å·å‡ºé—®é¢˜
#åŠ ä¸Š-dev===ï¼ˆå¼€å‘æ—¶ä¾èµ–ï¼‰
12345
```

1. é…ç½®webpack.config.jsæ–‡ä»¶

```js
#åœ¨rulesæ•°ç»„ä¸­åŠ å…¥
//åŠ è½½æ—¶ä¹Ÿæ˜¯ä»å³å¾€å·¦ï¼ˆä¸‹åˆ°ä¸Šï¼‰
{
        test: /\.less$/,//åŒ¹é…æ‰€æœ‰ä»¥lessç»“å°¾æ–‡ä»¶
        use: [{
          loader: "style-loader" // creates style nodes from JS strings//è´Ÿè´£æ ·å¼ç”Ÿæ•ˆ
        }, {
          loader: "css-loader" // translates CSS into CommonJS//è´Ÿè´£åŠ è½½
        }, {
          loader: "less-loader" // compiles Less to CSS//ç¼–è¯‘lesså˜CSS
        }]
      }
123456789101112
```

1. é‡æ–°æ‰“åŒ…å°±å¯ä»¥äº†ï¼ˆnpm run è„šæœ¬åç§°ï¼‰

## 3.0ã€webpack æ‰“åŒ… å›¾ç‰‡

#### base64å­—ç¬¦ä¸²

- å¯ä»¥ç»™å›¾ç‰‡åŠ å¯†,å˜æˆäºŒè¿›åˆ¶å­—ç¬¦ä¸²
- ä¸æ˜¯å¾ˆæ‡‚å¯ä»¥ç½‘ç«™æŸ¥è¯¢

#### hashå€¼

- ç”¨äºç»™ä½ çš„æ–‡ä»¶å‘½å32ä½çš„hashå€¼ï¼Œä¸ä¼šé‡å¤
  - hash:8 å°±æ˜¯è®¾ç½®æˆ8ä½çš„hashå€¼
- å®˜æ–¹æ–‡æ¡£ï¼š
  - https://www.webpackjs.com/loaders/url-loader/

1. åœ¨cssæ–‡ä»¶ä¸­åŠ ä¸Šä¸€ä¸ªèƒŒæ™¯å›¾ç‰‡
   - å› ä¸ºå®ƒåœ¨cssä¸­,csså·²ç»è¢«å…¥å£æ–‡ä»¶ä¾èµ–,æ•…ä¸éœ€è¦å•ç‹¬ä¾èµ–

```js
 background: url(../img/timg.jpg);
1
```

1. å®‰è£… url-loader

```js
npm install --save-dev url-loader
1
```

1. é…ç½®webpack.config.jsæ–‡ä»¶

```js
#åœ¨rulesæ•°ç»„ä¸­åŠ å…¥
{
        test: /\.(png|jpg|gif)$/,//åŒ¹é…è¿™ä¸‰ä¸ªåç¼€ç»“å°¾çš„å›¾ç‰‡
        use: [
          {
            loader: 'url-loader',
            options: {
              // å½“åŠ è½½çš„å›¾ç‰‡, å°äºlimitæ—¶, ä¼šå°†å›¾ç‰‡ç¼–è¯‘æˆbase64å­—ç¬¦ä¸²å½¢å¼.
              // å½“åŠ è½½çš„å›¾ç‰‡, å¤§äºlimitæ—¶, éœ€è¦ä½¿ç”¨file-loaderæ¨¡å—è¿›è¡ŒåŠ è½½.
              limit: 13000,//è¿™é‡Œä»£è¡¨çš„æ˜¯æ¥å—å›¾ç‰‡å¤šå¤§
            },
          }
        ]
      }
1234567891011121314
```

1. å½“å›¾ç‰‡å¤§å°å°äºlimité™åˆ¶æ—¶ï¼Œä¼šè½¬æˆbase64å­—ç¬¦ä¸²æ¥æ˜¾ç¤ºï¼Œä½†æ˜¯å¤§äºlimité™åˆ¶æ—¶éœ€è¦ä¸‹è½½file-loaderæ¨¡å—

```js
npm install --save-dev file-loader
1
```

1. å¹¶ä¸”å¤§äºlimité™åˆ¶çš„å›¾ç‰‡ä¼šæ‰“åŒ…åˆ°å‡ºå£æ–‡ä»¶ç›®å½•ä¸‹ï¼Œç”Ÿæˆhashå€¼çš„åå­—,è€Œè¿™æ—¶æµè§ˆå™¨æ˜¾ç¤ºçš„æ˜¯å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„æ‰“åŒ…ä¹‹åçš„å›¾ç‰‡ï¼Œä¸ºäº†å¯ä»¥æ‰¾åˆ°å›¾ç‰‡ï¼Œåœ¨webpack.config.jsä¸­çš„å‡ºå£åŠ å…¥

```js
  output: {
    publicPath:'dist/',//è®¾ç½®æ‰€æœ‰æ¶‰åŠurlçš„è·¯å¾„é»˜è®¤éƒ½æ‰“åŒ…åˆ°dist/æ–‡ä»¶ä¸‹
  },
123
```

1. åšåˆ°è¿™é‡Œï¼Œä¼šå‘ç°å›¾ç‰‡è£…åœ¨äº†ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹å¾ˆä¹±ï¼Œé‚£ä¹ˆå°±åœ¨webpack.config.jsæ–‡ä»¶ä¸­é…ç½®ä¸€ä¸‹urlå›¾ç‰‡æ‰“åŒ…åçš„å­˜æ”¾è·¯å¾„åå­—åå­—åå­—åç¼€

```js
   {
        test: /\.(png|jpg|gif)$/,//åŒ¹é…è¿™ä¸‰ä¸ªåç¼€ç»“å°¾çš„å›¾ç‰‡
        use: [
          {
            loader: 'url-loader',
            options: {
              // å½“åŠ è½½çš„å›¾ç‰‡, å°äºlimitæ—¶, ä¼šå°†å›¾ç‰‡ç¼–è¯‘æˆbase64å­—ç¬¦ä¸²å½¢å¼.
              // å½“åŠ è½½çš„å›¾ç‰‡, å¤§äºlimitæ—¶, éœ€è¦ä½¿ç”¨file-loaderæ¨¡å—è¿›è¡ŒåŠ è½½.
              limit: 13000,//è¿™é‡Œä»£è¡¨çš„æ˜¯æ¥å—å›¾ç‰‡å¤šå¤§
              name:'img/[name].[hash:8].[ext]',
                //åå­—ï¼š'imgæ–‡ä»¶å¤¹ä¸‹/å›¾ç‰‡åŸæœ¬çš„åå­—.hashå€¼çš„å…«ä½ç¼–ç .åŸæœ¬å›¾ç‰‡çš„åç¼€å'
            },
          }
        ]
      }
123456789101112131415
```

### æ³¨æ„ç‚¹ï¼š

1. å¤§äºlimité™åˆ¶çš„éœ€è¦ä¸‹è½½`file-loader`æ¨¡å—

   - ```js
     npm install --save-dev file-loader
     1
     ```

2. å¤§äºlimité™åˆ¶çš„å›¾ç‰‡ä¼šæ‰“åŒ…åˆ°å‡ºå£æ–‡ä»¶å¤¹ä¸‹ï¼Œæµè§ˆå™¨åªä¼šåˆ°å½“å‰æ–‡ä»¶å¤¹ä¸‹å»æ‰¾

   - è¿™æ—¶éœ€è¦é…ç½®`webpack.config.js`çš„å‡ºå£çš„`url`è·¯å¾„

   - ```js
      publicPath:'å»å“ªä¸ªç›®å½•æ‰¾',
     1
     ```

3. å¦‚æœéœ€è¦å›¾ç‰‡æ‘†æ”¾è§„èŒƒï¼Œåå­—æ¸…æ™°ï¼Œé‚£ä¹ˆéœ€è¦åœ¨`webpack.config.js`æ–‡ä»¶åŒ¹é…å›¾ç‰‡çš„options:{}ä¸­é…ç½®

   - â€‹	è¿™é‡Œé…ç½®æ—¶ä¸€å®šè¦åŠ ã€ã€‘æ‰èƒ½è·å–ä»¥å‰çš„åå­—

     - ä¾‹å¦‚nameä¸åŠ ã€ã€‘
       - ä»¥åçš„å›¾ç‰‡åå­—éƒ½ä¼šå«name

   - ```js
          name:'img/[name].[hash:8].[ext]',
     //åå­—ï¼š'imgæ–‡ä»¶å¤¹ä¸‹/å›¾ç‰‡åŸæœ¬çš„åå­—.hashå€¼çš„å…«ä½ç¼–ç .åŸæœ¬å›¾ç‰‡çš„åç¼€å'
      /*imgï¼šæ–‡ä»¶è¦æ‰“åŒ…åˆ°çš„æ–‡ä»¶å¤¹
     nameï¼šè·å–å›¾ç‰‡åŸæ¥çš„åå­—ï¼Œæ”¾åœ¨è¯¥ä½ç½®
     hash:8ï¼šä¸ºäº†é˜²æ­¢å›¾ç‰‡åç§°å†²çªï¼Œä¾ç„¶ä½¿ç”¨hashï¼Œä½†æ˜¯æˆ‘ä»¬åªä¿ç•™8ä½
     extï¼šä½¿ç”¨å›¾ç‰‡åŸæ¥çš„æ‰©å±•å*/
     
     1234567
     ```

## 4.0ã€ES6è½¬ä¸ºES5

- å®˜æ–¹æ–‡æ¡£ï¼šéœ€è¦æ‘¸ç´¢
  - https://www.webpackjs.com/loaders/babel-loader/
  - envï¼šenvironment ï¼ˆç¯å¢ƒï¼‰

1. å¦‚æœæµè§ˆå™¨ä¸æ”¯æŒES6é‚£ä¹ˆæ‰“åŒ…å°±éœ€è¦ES6è½¬ä¸ºES5
2. åˆ©ç”¨å®‰è£…babel-loaderæ¥è½¬ä¹‰

```js
#å®‰è£…7ç‰ˆæœ¬çš„babel-loader ä¸ babel-core babel-preset-es2015
npm install --save-dev babel-loader@7 babel-core babel-preset-es2015
12
```

1. é…ç½®webpack.config.js

```js
{
        //exclude:æ’é™¤
        test: /\.js$/,//åŒ¹é…jsæ–‡ä»¶
        exclude: /(node_modules|bower_components)/,
        use: {//ä½¿ç”¨
        loader: 'babel-loader',//loaderä½¿ç”¨babel-loader
          options: {//è®¾ç½®
            presets: ['es2015']
          }
        }
      }
1234567891011
```

1. é‡æ–°æ‰“åŒ…å°±å¯ä»¥äº†ï¼Œæ‰“åŒ…æ–‡ä»¶ä¸­çš„ES6è¯­æ³•å°±è¢«è½¬ä¹‰æˆäº†ES5

# å››ã€webpack é…ç½® ä½¿ç”¨Vue

## 1.0ã€vueå¯¹è±¡jsæ–‡ä»¶çš„åº”ç”¨

1. éœ€è¦å…ˆå®‰è£…vue

```js
npm install vue --save
1
```

1. åœ¨å…¥å£æ–‡ä»¶ä¸­å¯¼å…¥vueï¼Œåº”ç”¨
   - å¯¼å…¥æ—¶å®ƒä¼šå»æœ¬åœ°node_modulesä¸‹è¾¹æ‰¾åˆ°vueæ–‡ä»¶

```js
//5.ä½¿ç”¨Vueè¿›è¡Œå¼€å‘
//å¼•å…¥Vueä¾èµ–
//å»æœ¬åœ°node_modulesä¸‹è¾¹æ‰¾åˆ°vueæ–‡ä»¶
import Vue from 'vue'

const app = new Vue({
    el:'#app',
    data:{
        message:'Hello Webpack'
    }
})


//å¦‚æœæƒ³ç”¨å¤–è¾¹çš„vuejsé‚£ä¹ˆå°±è¿™æ ·å¼•å…¥,ä½†æ˜¯åˆ«å¿˜äº†å¯¼å‡º
export default {template:...}//é»˜è®¤å¯¼å‡º
import App from './src/app.js'//é»˜è®¤å¯¼å‡ºçš„å¯¼å…¥
export const App = {template:.....}//å‘½åå¯¼å‡º     
import {App} from './src/app.js'//å‘½åå¯¼å‡ºçš„å¯¼å…¥
123456789101112131415161718
```

1. è¿™é‡Œæ‰“åŒ…è¿è¡Œæ—¶å¦‚æœæŠ¥ä»¥ä¸‹é”™è¯¯ï¼š

```js
You are using the runtime-only build of Vue where the template compiler is not available. Either pre-compile the templates into render functions, or use the compiler-included build.
#è¯‘æ–‡ï¼š
æ‚¨ä½¿ç”¨çš„æ˜¯Vueçš„ä»…è¿è¡Œæ—¶æ„å»ºï¼Œå…¶ä¸­æ¨¡æ¿ç¼–è¯‘å™¨ä¸å¯ç”¨ã€‚è¦ä¹ˆå°†æ¨¡æ¿é¢„ç¼–è¯‘ä¸ºå‘ˆç°å‡½æ•°ï¼Œè¦ä¹ˆä½¿ç”¨ç¼–è¯‘å™¨åŒ…å«çš„æ„å»ºã€‚
123
```

runtime-only => è¿è¡Œç¯å¢ƒ-onlyï¼Œä»£ç ä¸­ï¼Œä¸å¯ä»¥ä½¿ç”¨ä»»ä½•template

runtiome-compiler => è¿è¡Œç¯å¢ƒ-ç¼–è¯‘å™¨ï¼Œä»£ç ä¸­compilerå¯ä»¥ç¼–è¯‘template

1. è§£å†³æ–¹æ¡ˆï¼šåœ¨ webpack.config.js ä¸­é…ç½®ä½¿ç”¨æŒ‡å®švueç‰ˆæœ¬
   - åœ¨webpack.config.js çš„ module.exports ä¸‹è¾¹åŠ å…¥ï¼š

```js
resolve:{
    //alias:åˆ«å
    alias:{
      //$ä»£è¡¨ç»“å°¾
      'vue$':'vue/dist/vue.esm.js'
        //æŒ‡å®šåˆ°vue/dist/vue.esm.jsæ–‡ä»¶
    }
  }
12345678
```

1. é‡æ–°æ‰“åŒ…å³å¯

## 2.0ã€åˆ©ç”¨webpack loader ä½¿ç”¨åç¼€ä¸ºvueçš„æ–‡ä»¶

1. æ–°å»ºä¸€ä¸ª.vueæ–‡ä»¶åœ¨å…¶ä¸­ç¼–å†™vueå®ä¾‹
   - vscode <vueæœ‰æç¤ºï¼Œé€‰æ‹©é»˜è®¤å°±å¯ä»¥

```js
<template>
  //è¿™é‡Œç¼–å†™æ¨¡æ¿
</template>
<script>
    //å¦‚æœæœ‰éœ€è¦å¯¼å…¥çš„å­ç»„ä»¶åœ¨è¿™é‡Œå†™
export default {//è¿™é‡Œä»£è¡¨å¯¼å‡º
//è¿™é‡Œå†™å‡½æ•°ï¼Œjs
}
</script>

<style>
//è¿™é‡Œå†™æ ·å¼
</style>
12345678910111213
```

1. åœ¨å…¥å£æ–‡ä»¶å¯¼å…¥vueæ–‡ä»¶ä¸è°ƒç”¨vueæ–‡ä»¶

```js
//å¯¼å…¥vueæ–‡ä»¶
import App from './vue/App.vue'
//å¯¼å…¥ å­ç»„ä»¶å æ¥è‡ª  ./vue/App.vue

new Vue({
    el:'#app',
    //è¿™é‡Œå®šä¹‰#appçš„æ¨¡æ¿æ˜¯å­ç»„ä»¶æ ‡ç­¾
    template:'<App></App>',//è¿™é‡Œæ˜¯æ¨¡æ¿å†…å®¹
    components:{//ç»„ä»¶
        App//ç»„ä»¶æ¨¡æ¿æ ‡ç­¾å'App':å­ç»„ä»¶åAPP
    }
   
})
12345678910111213
```

- è¿™é‡Œåˆ«å¿˜è®°åœ¨index.htmlä¸­æœ‰ä¸€ä¸ªå®¹å™¨

  - ```js
      <div id="app"></div>
    //è¿™é‡Œä¸éœ€è¦æ”¾ä»€ä¹ˆ
    12
    ```

1. éœ€è¦ä¸‹è½½vueçš„loaderæ¥åŠ è½½åˆ°vueæ–‡ä»¶

```js
#vue-loader è´Ÿè´£åŠ è½½vueæ–‡ä»¶
#vue-template-compiler è´Ÿè´£ vue-æ¨¡æ¿-ç¼–è¯‘

npm install vue-loader vue-template-compiler --save-dev

12345
```

1. é…ç½®webpack.config.jsæ–‡ä»¶ä¸­vueçš„loaderé…ç½®

```js
#åœ¨rulesæ•°ç»„ä¸­åŠ å…¥ï¼š
{
   test:/\.vue$/,//åŒ¹é…ä»¥.vueç»“å°¾çš„æ–‡ä»¶
   use:['vue-loader']
}
12345
```

1. è¿™æ—¶æ‰“åŒ…å¦‚æœæŠ¥ä»¥ä¸‹é”™è¯¯ï¼š

```js
vue-loader was used without the corresponding plugin. Make sure to include VueLoaderPlugin in your webpack config.
#è¯‘æ–‡ï¼š
vue-loaderæ²¡æœ‰ä½¿ç”¨ç›¸åº”çš„æ’ä»¶ã€‚ç¡®ä¿åœ¨webpacké…ç½®ä¸­åŒ…å«VueLoaderPluginã€‚
123
```

- è¿™é‡Œå› ä¸º vue-loader 14ç‰ˆæœ¬ä»¥åéœ€è¦é…ç½®æ’ä»¶æ‰å¯ä»¥åŠ è½½vueæ–‡ä»¶
  - æ‰€ä»¥è¿™é‡Œå¯ä»¥é€‰æ‹©å»`package.js`onä¸­æŠŠ`vue-loader`çš„ç‰ˆæœ¬æ”¹æˆ13.0.0è¿™æ ·å®ƒå°±åªä¼šä¸‹è½½13-14ä¹‹é—´çš„ç‰ˆæœ¬
  - æ”¹å®Œä¹‹åç›´æ¥æ‰“å…¥ npm install æ¥å®‰è£…ä¸€ä¸‹æ”¹çš„ä¾èµ–

1. è¿™é‡Œé‡æ–°æ‰“åŒ…å¯ä»¥äº†

## 2.1ã€vueæ–‡ä»¶ä¸‹å¤šä¸ªç»„ä»¶

1. åœ¨æ–°å»ºä¸€ä¸ªvueæ–‡ä»¶å†™å…¥vueå®ä¾‹å½“ä½œå­ç»„ä»¶
2. åœ¨çˆ¶ç»„ä»¶ä¸­å¯¼å…¥å­ç»„ä»¶Cpn

```js
#è¿™æ˜¯çˆ¶ç»„ä»¶
#è¿™æ˜¯çˆ¶ç»„ä»¶
#è¿™æ˜¯çˆ¶ç»„ä»¶
<template>
    <div>
        <h2>{{message}}</h2>
        <button @click="Bth">æŒ‰é’®</button>
        <h2 class="title">{{name}}</h2>
        <Cpn></Cpn>	///è¿™é‡Œå¯¼å…¥å­ç»„ä»¶æ ‡ç­¾
    </div>
</template>
<script>
      //åœ¨scriptæ ‡ç­¾ä¸­å¼•å…¥å­ç»„ä»¶
import Cpn from './Cpn.vue'
//å¼•å…¥ å­ç»„ä»¶æ„é€ å æ¥è‡ª './Cpn.vue'

export default {
    name:"App",
    components:{//è¿™é‡Œçˆ¶ç»„ä»¶éœ€è¦åŠ å…¥å­ç»„ä»¶
        Cpn//'å­ç»„ä»¶æ ‡ç­¾å'ï¼šå­ç»„ä»¶æ„é€ å
    },
      data() {
        return {
            message:'Hello Webpack',
            name:'åˆ˜åŸ¹å¿—',
        }
    },
    methods: {
        Bth(){
            this.message='Hello'
        }
    },
}
</script>
12345678910111213141516171819202122232425262728293031323334
```

1. æ ‘å½¢è§£æ„

# äº”ã€webpackçš„plugin (æ’ä»¶)

- pluginæ˜¯æ’ä»¶çš„æ„æ€ï¼Œé€šå¸¸æ˜¯ç”¨äºå¯¹æŸä¸ªç°æœ‰çš„æ¶æ„è¿›è¡Œæ‰©å±•ã€‚
- webpackä¸­çš„æ’ä»¶ï¼Œå°±æ˜¯å¯¹webpackç°æœ‰åŠŸèƒ½çš„å„ç§æ‰©å±•ï¼Œæ¯”å¦‚æ‰“åŒ…ä¼˜åŒ–ï¼Œæ–‡ä»¶å‹ç¼©ç­‰ç­‰ã€‚
- pluginçš„ä½¿ç”¨è¿‡ç¨‹ï¼š
  - æ­¥éª¤ä¸€ï¼šé€šè¿‡npmå®‰è£…éœ€è¦ä½¿ç”¨çš„plugins(æŸäº›webpackå·²ç»å†…ç½®çš„æ’ä»¶ä¸éœ€è¦å®‰è£…)
  - æ­¥éª¤äºŒï¼šåœ¨webpack.config.jsä¸­çš„pluginsä¸­é…ç½®æ’ä»¶ã€‚

## 1.0ã€bluginçš„ç‰ˆæƒæ’ä»¶

- BannerPluginæ˜¯webpackçš„ç‰ˆæƒæ’ä»¶

1. é…ç½®webpack.config.jsæ–‡ä»¶
   - å¼•å…¥webpackåŒ…

```js
const webpack = require('webpack')
1
```

1. é…ç½®webpack.config.jsæ–‡ä»¶çš„plugins

```js
#åœ¨module.exportsä¸‹è¾¹åŠ å…¥
 plugins:[
    new webpack.BannerPlugin('æœ€ç»ˆç‰ˆæƒå½’Liu Pei Zhiæ‰€æœ‰')
  ]
1234
```

1. é‡æ–°æ‰“åŒ…ï¼Œåœ¨æ‰“åŒ…(å‡ºå£)æ–‡ä»¶é¡¶éƒ¨å°±ä¼šæœ‰ä¸€ä¸ªç‰ˆæƒå£°æ˜

## 2.0ã€æ‰“åŒ…htmlæ–‡ä»¶çš„plugin

- html-webpack-pluginæ˜¯æ‰“åŒ…htmlæ–‡ä»¶çš„æ’ä»¶

1. ç”±äºwebpackæ²¡æœ‰è‡ªå¸¦è¿™ä¸ªæ’ä»¶ï¼Œæ•…éœ€è¦æˆ‘ä»¬è‡ªå·±ä¸‹è½½

```js
#å¦‚æœæ–°ç‰ˆæœ¬æŠ¥é”™ï¼Œé‚£ä¹ˆå°±å®‰è£…3.2.0ç‰ˆæœ¬çš„
npm install html-webpack-plugin@3.2.0 --save-dev
12
```

1. é…ç½®webpack.config.jsæ–‡ä»¶
   - å¼•å…¥html-webpack-pluginåŒ…

```js
const HtmlWebpackPlugin = require('html-webpack-plugin')
1
```

1. é…ç½®webpack.config.jsæ–‡ä»¶ä¸­çš„plugins

```js
 #åœ¨module.exportsä¸‹è¾¹åŠ å…¥
plugins:[
    new webpack.BannerPlugin('æœ€ç»ˆç‰ˆæƒå½’Liu Pei Zhiæ‰€æœ‰'),
    new HtmlWebpackPlugin({
      template:'index.html',#è¿™é‡Œä¼šå»å½“å‰ç›®å½•ä¸‹æ‰¾æ¨¡æ¿index.html
    })
  ]
1234567
```

1. è¿™æ—¶åº”è¯¥è§£å†³ä¸€äº›ä»¥å‰é…ç½®
   - æŠŠwebpack.config.jsæ–‡ä»¶çš„å‡ºå£publicPathï¼ˆå…¬å…±è·¯å¾„ï¼‰æ³¨é‡Š||åˆ é™¤
     - ä¸ç„¶æ‰“åŒ…ä¹‹åçš„index.htmlæ‰¾ä¸åˆ°ä¸€äº›æ–‡ä»¶æˆ–è€…urlå›¾ç‰‡
2. å› ä¸º`html-webpack-plugin`æ’ä»¶æ‰“åŒ…æ—¶ä¼šå¸®å¿™åŠ å…¥`script`æ ‡ç­¾æ‰€ä»¥åŸæœ¬çš„`index.html`å¯ä»¥ä¸éœ€è¦åŠ å…¥`script`æ ‡ç­¾
3. è¿™é‡Œå¦‚æœé…ç½®æˆåŠŸï¼Œå¯ä»¥æŠŠå‡ºå£ç›®å½•(dist)ä¸‹è¾¹çš„éƒ½åˆ é™¤,åœ¨é‡æ–°æ‰“åŒ…ä¸€éï¼Œ	ğŸ™‚çœ‹æ‚¨å¿ƒæƒ…ğŸ™‚

## 3.0ã€jsä»£ç å‹ç¼©çš„plugin

- uglifyjs-webpack-pluginæ˜¯jsä»£ç ä¸‘åŒ–ï¼ˆå‹ç¼©ï¼‰æ’ä»¶
- è¿™é‡Œä¸€ä¸‘åŒ–ï¼Œç‰ˆæƒçš„æ³¨é‡Šå°±ä¼šæ¶ˆå¤±

1. å®‰è£…uglifyjs-webpack-pluginæ’ä»¶

```js
#ä¸æŒ‡å®šç‰ˆæœ¬å¯èƒ½ä¼šå‡ºé—®é¢˜ï¼Œå¯ä»¥å°è¯•
npm install uglifyjs-webpack-plugin@1.1.1 --save-dev
12
```

1. é…ç½®webpack.config.jsæ–‡ä»¶
   - å¼•å…¥uglifyjs-webpack-pluginåŒ…

```js
const UglifyjsWebpackPlugin = require('uglifyjs-webpack-plugin')
1
```

1. é…ç½®webpack.config.jsæ–‡ä»¶ä¸­çš„plugins

```js
 #åœ¨module.exportsä¸‹è¾¹åŠ å…¥
  plugins:[
    new webpack.BannerPlugin('æœ€ç»ˆç‰ˆæƒå½’Liu Pei Zhiæ‰€æœ‰'),
    new HtmlWebpackPlugin({
      template:'index.html',//è¿™é‡Œä¼šå»å½“å‰ç›®å½•ä¸‹æ‰¾æ¨¡æ¿index.html
    }),
    new UglifyjsWebpackPlugin()#è¿™é‡Œæ˜¯jsæ–‡ä»¶ä¸‘åŒ–

  ]
123456789
```

1. ä¹‹åæ‰“åŒ…ä¹‹åå°±ä¼šçœ‹åˆ°æ‰“åŒ…åçš„jsè¢«å‹ç¼©çš„ä¸‘åŒ–äº†

# å…­ã€webpackæ­å»ºæœ¬åœ°æœåŠ¡å™¨

## 1.0ã€webpackæ­å»ºæœ¬åœ°æœåŠ¡å™¨

- åŸºäºnodeçš„expressæ¡†æ¶æ­å»º
- ä½œç”¨ï¼š
  - ä¸éœ€è¦åšå®Œä¸€æ­¥æ‰“åŒ…ä¸€æ­¥,å¯ä»¥å¼€ç€æœ¬åœ°æœåŠ¡ï¼Œä½ æœ‰å˜åŒ–æœåŠ¡å™¨ç»™ä½ è‡ªåŠ¨æ›´æ–°
  - åªéœ€è¦æœ€ååšå®Œæ—¶å€™æ‰“åŒ…ä¸€æ¬¡å°±å¯ä»¥

1. å®‰è£…webpack-dev-server@2.9.3
   - å®‰è£…2.9.3ç‰ˆæœ¬å› ä¸ºè¦å’Œwepackç‰ˆæœ¬3.6.0åŒ¹é…

```js
npm install --save-dev webpack-dev-server@2.9.3
1
```

1. é…ç½®webpack.config.jsæ–‡ä»¶
   - contentBaseï¼šä¸ºå“ªä¸€ä¸ªæ–‡ä»¶å¤¹æä¾›æœ¬åœ°æœåŠ¡ï¼Œé»˜è®¤æ˜¯æ ¹æ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬è¿™é‡Œè¦å¡«å†™./dist
   - portï¼šç«¯å£å·
   - inlineï¼šé¡µé¢å®æ—¶åˆ·æ–°
   - historyApiFallbackï¼šåœ¨SPAé¡µé¢ä¸­ï¼Œä¾èµ–HTML5çš„historyæ¨¡å¼

```js
#åœ¨module.exportsä¸‹è¾¹åŠ å…¥
devServer:{//æ­å»ºæœ¬åœ°æœåŠ¡
    contentBase:'./dist',//ä¸ºè¿™ä¸ªæ–‡ä»¶å¤¹æä¾›æœ¬åœ°æœåŠ¡
    inline:true,//å®æ—¶è¿›è¡Œç›‘å¬
  }
12345
```

1. å› ä¸ºå®‰è£…åœ¨äº†æœ¬åœ°,é‚£ä¹ˆå°±å»package.jsonæ–‡ä»¶å»é…ç½®ä¸€ä¸‹è„šæœ¬
   - é…ç½®è„šæœ¬ç›®çš„ï¼šä¸ºäº†å¯ä»¥è®©ä»–ç›´æ¥å»æœ¬åœ°å»æ‰¾

```js
#åœ¨scriptè„šæœ¬ä¸­åŠ å…¥
"dev":" webpack-dev-server"//è¿™æ ·ä¼šåˆ†é…ä¸€ä¸ªè¿æ¥

"dev":" webpack-dev-server --open"//åŠ ä¸Š--openä¼šç›´æ¥å¸®ä½ æ‰“å¼€é»˜è®¤æµè§ˆå™¨
1234
```

## 2.0ã€webpackçš„é…ç½®åˆ†ç¦»

### ç›®çš„

- æŠŠwebpack.config.jsæ‹†åˆ†æ–¹ä¾¿ç»Ÿè®¡
- base.config.js
  - æ”¾ç½®å…¬å…±çš„ä¸œè¥¿
  - å¼€å‘æ—¶å’Œç”Ÿäº§æ—¶éƒ½ä¾èµ–çš„ä¸œè¥¿
- prod.config.js
  - ç”Ÿäº§æ—¶ä½¿ç”¨
  - æ‰“åŒ…æ—¶å€™ç”¨çš„
- dev.config.js
  - å¼€å‘æ—¶ä½¿ç”¨

1. å¹¶ä¸”éœ€è¦å®‰è£…webpack-merge
   - ç”¨äºé…ç½®åˆ†ç¦»çš„æ‹¼æ¥

```js
 npm install webpack-merge --save-dev
1
```

1. webpack-mergeä½¿ç”¨
   - å°† å¼€å‘||ç”Ÿäº§ éœ€è¦çš„å’Œå…¬å…±çš„åˆå¹¶

```js
#å¯¼å‡º=åˆå¹¶(baseconfig,{......})
module.exports = webpackMerge(baseconfig, {
    plugins: [
        new UglifyjsWebpackPlugin()//jsæ‰“åŒ…ä¸‘åŒ–
    ]
})
123456
```

1. éœ€è¦æ”¹ä¸€ä¸‹package.jsonçš„è„šæœ¬æ‰§è¡Œ
   - æ‰èƒ½æ­£å¸¸ä½¿ç”¨npm run æ‰“åŒ…ï¼Œnum run å¼€å¯æœ¬åœ°æœåŠ¡

```js
 "build": "webpack --config ./build/prod.config.js", //æ‰“åŒ…æ—¶ï¼Œå»./build/prod.config.jsè¿™ä¸ªè‡ªå®šä¹‰çš„æ–‡ä»¶å»æ‰§è¡Œ
     
  "dev": " webpack-dev-server --open --config ./build/dev.config.js" //å¼€å¯æœ¬åœ°æœåŠ¡æ—¶,å»./build/dev.config.jsè‡ªå®šä¹‰æ–‡ä»¶å»æ‰§è¡Œ
123
```

1. å‚è€ƒåœ¨ç”µè„‘çš„è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹

D:\Bç«™VUE\vuejsèµ„æ–™å’Œä»£ç \Day 05\è¯¾å ‚ä»£ç 5\LearnVuejs05-v2\copy_webpack _ é…ç½®åˆ†ç¦» _ 5